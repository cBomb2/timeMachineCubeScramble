<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rubik's Cube Scramble Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        button {
            padding: 10px 15px;
            font-size: 16px;
        }
        #scramble {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>2x2 Rubik's Cube Scramble Generator</h1>
    <button onclick="generateScramble()">Generate Scramble</button>
    <div id="scramble"></div>

    <script>
        const cubeMoves = ['U', 'D', 'L', 'R', 'F', 'B'];
        const wheelMoves = ['~U', '~D', '~L', '~R', '~F', '~B'];
        const moveModifiers = ["", "'", "2"];

        function generateScramble(length = 20) {
            let scramble = [];
            let lastMove = null;

            for (let i = 0; i < length; i++) {
                let fullMove;
                
                while (true) {
                    const moveType = Math.random() < 0.5 ? 'cube' : 'wheel';
                    const move = moveType === 'cube' ? cubeMoves[Math.floor(Math.random() * cubeMoves.length)] : wheelMoves[Math.floor(Math.random() * wheelMoves.length)];
                    const modifier = moveModifiers[Math.floor(Math.random() * moveModifiers.length)];
                    fullMove = move + modifier;

                    // Check for consecutive same or opposite moves
                    if (fullMove === lastMove){ continue; }
                    if (lastMove && ((lastMove[0] === fullMove[0]) || 
                                     (lastMove[0] in 'UD' && fullMove[0] in 'UD') || 
                                     (lastMove[0] in 'LR' && fullMove[0] in 'LR') || 
                                     (lastMove[0] in 'FB' && fullMove[0] in 'FB'))) continue;

                    // Allow opposite wheel moves to be next to each other
                    if (lastMove && lastMove.startsWith('~') && fullMove.startsWith('~')) break; 
                    
                    // If it's the first move, it's always allowed
                    if (!lastMove) break;
                }

                scramble.push(fullMove);
                lastMove = fullMove;
            }

            document.getElementById('scramble').innerText = 'Scramble: ' + scramble.join(' ');
        }
    </script>
</body>
</html>
